<!DOCTYPE html>
<html>
  <head>
    <title>Codebreaker</title>
    <link rel="stylesheet" href="/stylesheets/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="/stylesheets/application.css" type="text/css">    
  </head>
  <body>
    <div id="container">
      <h1>Codebreaker</h1>
      <% if @game.win == true %>
        <p>You win!</p>
        <p>Do you want to play again?</p>
        <form method="POST" action="/play_again">
          <input class="btn" type="submit" value="Yes">
        </form>
      <% elsif @game.win == false %>
        <p>You lose.</p>
        <p>Secret code was
          <%= @game.secret_code%>.
        </p>
        <p>Do you want to play again?</p>
        <form method="POST" action="/play_again">
          <input class="btn" type="submit" value="Yes">
        </form>
      <% else %>
        <form method="POST" action="/check">
          <input type="text" name="guess" maxlength="4" placeholder="Your guess" autofocus>
          <input class="btn" type="submit" value="Enter">
        </form>
        <% if @game.hints > 0 %></br>
        <p>You have <%= @game.hints %> hints</p>
          <form method="POST" action="/hint">
            <input class="btn" type="submit" value="Show hint">
          </form>
          
        <% else %></br>
          <p>One of the secret number is <%= hint %></p>
        <% end %></br>
        <p>You have <%= @game.tries %> chanses to break the code</p>
        <% if (guess =~ /[1-6]{4}/).nil? %>
        <p>Secret code should have 4 numbers from 1 to 6</p>
        <% else %>
          <p>Your result: <%= mark %></p>
        <% end %>        
      <% end %>
    </div>
  </body>
</html>